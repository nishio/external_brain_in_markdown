
from [[pRegroup2020]]
イベント座標系の問題
Paper.jsのイベントハンドラの引数のevent.pointは、
ブラウザの座標系(project座標系)ではなくキャンバスのzoomなどの変換をした後の座標系(view座標系)で
なのでドラッグ中にキャンバスのcenterやzoomを書き換えると移動差分がおかしくなるので、最悪振動し始めたりする
今はたまたまドラッグで移動する対象のキャンバスの上に高速に描画するためのキャンバスが重なっていて
ドラッグ中に上のキャンバスのcenterなどが更新されないから問題なく動いているが
複数のキャンバスのcenter/zoomが異なる状態で重なっているのは将来のバグの原因になるから改善されるべき
