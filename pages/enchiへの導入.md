---
title: "enchiã¸ã®å°å…¥"
---

å‰²ã¨é ­ãŒæ··ä¹±ã—ã¦ã„ã‚‹ã®ã§ã€ã¾ãšã¯1ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­å®Ÿè¡Œã—ã¦è¨˜éŒ²ã‚’æ®‹ã™
æ›¸ãå ´æ‰€ã¯[[ã©ã“ãŒé©åˆ‡ã‹ã‚ã‹ã‚‰ãªã„]]ã®ã§[[ã¨ã‚Šã‚ãˆãšã“ã“ã«æ›¸ã]]
- [[ğŸŒ€ã©ã“ã«æ›¸ã“ã†]]

ğŸ…
privateãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã™ã‚‹
- omoikane-embed-enchi
- privateã¯åˆã®ã‚±ãƒ¼ã‚¹

omniã‹ã‚‰push
:

```
git remote add enchi https://github.com/nishio/omoikane-embed-enchi.git
git branch -M main
XXXX git push -u origin main
```

ã‚ãƒ¼LFSé€ã£ã¡ã‚ƒã†ã®ã­
- rebaseã—ã¦æ¶ˆã™ã®ã‹ã©ã†ã‹
ã‚ `git push -u origin main`ã¯é–“é•ã„ã˜ã‚ƒã‚“
- `$ git push -u enchi main`
- ãã‚‚ãã‚‚originã©ã“ãªã‚“ï¼Ÿ

cloneã—ã¦æ–°ã—ã„codeã§é–‹ã
- `$ git clone https://github.com/nishio/omoikane-embed-enchi.git`
- `$ code omoikane-embed-enchi`

ã¨ã‚Šã‚ãˆãšãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ã‹ã™
- `.env`ã¯ãƒªãƒã‚¸ãƒˆãƒªã«å…¥ã£ã¦ãªã„ã®ã§omniã‹ã‚‰ã‚³ãƒ”ãƒ¼
    - `PROJECT_NAME=enchi`ã™ã‚‹
- make_vecs_from_jsonã§ã“ã†ã—ã¦ã‚‹
py

```
payload = {
    "title": title,
    "project": PROJECT,
    "text": "\n".join(buf),
    "is_public": is_public,
}
```

    - `is_public=True`ã¯ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã‚‹
        - Falseã«ã—ã¨ãã‹
- `.env`ã§`COLLECTION_NAME`ã‚’åˆ¥ç«‹ã¦ã«ã—ã¦ã„ãŸã“ã¨ãŒã†ã¾ãæ©Ÿèƒ½ã™ã‚‹ï¼Ÿ
    - `COLLECTION_NAME`ã¯`nishio`ã®ã¾ã¾ã«ã™ã‚‹
    - ã‚ãƒ¼ã€ã“ã‚Œã€å°†æ¥çš„ã«äº¤é€šæ•´ç†ãŒå¿…è¦ã«ãªã‚‹äºˆæ„Ÿ
    - ã€Œå…¬é–‹ã—ã¦ã‚‹ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã§ãƒ’ãƒƒãƒˆã—ãŸæ–‡å­—åˆ—ãŒå‡ºãªã„ã§ã»ã—ã„ã€ãŒ`is_public=False`ï¼Ÿ
    - ã‚ãƒ¼ã€ãã†ã‹[[èª¤ã£ãŸäºŒåˆ†æ³•]]ã 
        - ã€Œä¸€èˆ¬å…¬é–‹ã€ã€Œè‡ªåˆ†ã ã‘è¦‹ã‚‹ã€ã®äºŒé€šã‚Šã—ã‹è€ƒãˆã¦ãªã‹ã£ãŸã‘ã©ã€Œä¸€èˆ¬å…¬é–‹ã€ã€Œé™å®šå…¬é–‹ã€ã€Œè‡ªåˆ†ã ã‘è¦‹ã‚‹ã€ã®ä¸‰é€šã‚Šã«ãªã£ãŸã‹ã‚‰BooleanãŒãã‚‚ãã‚‚ãŠã‹ã—ã„ã‚“ã 
        - [[ãƒ—ãƒ­ã‚°ãƒ©ãƒã¯èª¤ã£ãŸäºŒåˆ†æ³•ã«æ°—ä»˜ãã‚„ã™ã„]]
    - ä»Šå¾Œ`is_public=False`ãªã‚‚ã®ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ã¦ã—ã¾ã„ã€ç”Ÿæˆã—ãŸã‚‚ã®ãŒenchiã«å…¥ã‚‹ã‚ˆã†ã«ã—ãŸã‚‰ã€èª¤ã£ã¦è‡ªåˆ†ä»¥å¤–ã«å…¬é–‹ã—ã¦ã¯ã„ã‘ãªã„æƒ…å ±ã‚’`is_public=False`ã§å…¥ã‚Œã¦ã—ã¾ã£ã¦ãƒªãƒ¼ã‚¯ã™ã‚‹æœªæ¥ãŒè¦‹ãˆã‚‹
    - `is_public=True or for_enchi=True`ãŒé©åˆ‡ã‹
        - ã„ã‚„`is_public=True or project="enchi"`ã‹
        - ãã‚‚ãã‚‚`project="nishio" or project="enchi"`ã§ã„ã„ã®ã§ã¯ï¼Ÿ
    - ã“ã®åˆ¤æ–­ã‚’æœªæ¥ã®è‡ªåˆ†ã‚‚ã¡ã‚ƒã‚“ã¨ã‚„ã‚‹ã‹ãª...


ğŸ…
:

```
prev_title, prev_lines = bot_output[-1]
                             ~~~~~~~~~~^^^^
IndexError: list index out of range
```

- ã“ã‚Œã¯ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒãŒæœ€æ–°ã®ãƒãƒ¼ãƒˆã‚’å–å¾—ã—ã¦èª­ã‚‚ã†ã¨ã—ã¦ã„ã¦ã€æœ€åˆã®å°å…¥ãªã®ã§æœ€æ–°ã®ãƒãƒ¼ãƒˆãŒå­˜åœ¨ã—ãªã„ã“ã¨ã«ã‚ˆã‚‹ã‚‚ã®
- ä»Šå›ã¯ãã‚‚ãã‚‚ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒãŒå¿…è¦ãªã„æ°—ãŒã—ã¦ã„ã‚‹ã®ã§ãƒ‘ã‚¹

- private projectã§ã‚ã‚‹ã“ã¨ã«èµ·å› ã™ã‚‹ã‚¨ãƒ©ãƒ¼
    - ã¾ã ã‚µãƒãƒ¼ãƒˆã—ã¦ãªã‹ã£ãŸã ã‘
    - done

æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼ã§1æšãƒšãƒ¼ã‚¸ã‚’ä½œã£ãŸ
- ã„ããªã‚Šè‡ªå‹•å®Ÿè¡Œã«ã›ãšã«ã©ã†ã„ã†å½¢ã®æ´»å‹•ãŒã„ã„ã‹ã‚’æ¨¡ç´¢ã—ã¦ã„ã“ã†
- Github Actionsã®å®šæœŸå®Ÿè¡Œã‚’ã‚ªãƒ•

ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ãŸ
- ãˆãƒ¼ã¨ã€ã“ã‚Œã‚’pushã—ã¦ã©ã†ã™ã‚‹ã‚“ã ã£ã‘ãª
- omniã«ãƒãƒ¼ã‚¸â€¦
    - ãã†ã‹ã€ä½œã‚Šã‹ã‘ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æœªã‚³ãƒŸãƒƒãƒˆå·®åˆ†ãŒã‚ã‚‹ã¨ã‚„ã‚„ã“ã—ã„ã®ã‹
    - ã“ã£ã¡ã®ã‚³ãƒ¼ãƒ‰æ•´ç†ã‚‚å¿…è¦

ğŸ…
> ãã‚‚ãã‚‚originã©ã“ãªã‚“ï¼Ÿ
- origin = coreã ãª
- æ··ä¹±ã®å…ƒ
- `% git remote rename origin core`
- `% git push omni main`
- `% git fetch enchi`
    - [[git fetch]]
- ![image](https://gyazo.com/e7fc85c1f4a0df1468bed850f8ca0499/thumb/1000)
- ![image](https://gyazo.com/359e241c3cb672ce5cadda058f9cff5e/thumb/1000)
- `% git push omni main`
- done!
git status

```
Your branch and 'enchi/main' have diverged,
and have 5 and 4 different commits each, respectively.
```

- ãã‚Œã¯ãã†ã€ã©ã†ã™ã‚‹ã®ï¼Ÿ
- `% git branch -dr enchi/main`

ãã®ä»–
- ã‚ªãƒ¢ã‚¤ã‚«ãƒã®Botã‚’ã€Œãƒ©ãƒ³ãƒ€ãƒ ãªãƒšãƒ¼ã‚¸ã®æœ«å°¾ã«æ„Ÿæƒ³ã‚’åŠ ç­†ã™ã‚‹ã€ã«ã—ãŸ
- unnamed-projectsã®Botã¯ã€Œæœ€ã‚‚é•·ã„ãƒšãƒ¼ã‚¸ã«åˆ†å‰²ã®ææ¡ˆã‚’ã™ã‚‹ã€ã«ã—ãŸ

