---
title: "all(empty)==true"
---

> [@fumieval](https://twitter.com/fumieval/status/1663161595009314819?s=20): 「配列のすべての要素が条件を満たすならtrueを返す」関数を定義するとき、空の配列を渡したらfalseを返すかtrueを返すかが、良いプログラマかどうかの一つの境目だ
> [@fumieval](https://twitter.com/fumieval/status/1663322995744718848?s=20): 「メールのすべての添付ファイルが安全であれば受信箱に入れる」という処理において、添付ファイルのないメールはどうすべきかを考えれば、自然と答えがイメージしやすい

> [@kumagi](https://twitter.com/kumagi/status/1663468951677075456?s=20): 「数学的にこれが自然であるからこうすべきである」と「このプロジェクトの要件は数学の要件に沿っていると俺は勝手に思ってるから数学に寄せた上で異論のあるやつをセンスが無いと罵るべき」の間には海より深い溝があるが気付けない人は居るものである。

> [@IgnorantCoder](https://twitter.com/IgnorantCoder/status/1663571120354897920?s=20): 要件によるとか言ってる人が結構いてビビる。1+1が2かどうかは文脈によるみたいなことばっか言って、一生実装してくれなさそうな気がしてしまうが…。

> [@chokudai](https://twitter.com/chokudai/status/1663702986160308225?s=20): ・論理的にはtrue一択。false派は論理を勉強してほしい
> ・論理で判断できる項目でドキュメントを参照する手間を増やすのは良くないので、状況に拠らないで欲しい
> ・多くの環境では「全員が論理的に考えられる」と思わない方が良いので、ドキュメントやコメントは気を使うべき

> [@Cryolite](https://twitter.com/Cryolite/status/1663439852409622534?s=20): あなたはプログラミング言語の作者です．その言語の標準ライブラリの「配列のすべての要素が条件を満たす時かつその時に限り true を返す関数 all」と「配列のある要素が条件を満たす時かつその時に限り true を返す関数 any」に空の配列を渡した場合，あなたは以下のように動作するよう実装します：
> ![image](https://gyazo.com/a507fe50693b99f4d99fcad94968ed94/thumb/1000)
- > [@GarterBlue2303](https://twitter.com/GarterBlue2303/status/1663501743882371072?s=20): @Cryolite kotlin の all のドキュメントには [Vacuous truth - Wikipedia](https://en.wikipedia.org/wiki/Vacuous_truth) へのリンクがありますね
- > [@nishio](https://twitter.com/nishio/status/1663526973686321152): anyの定義を「配列の一つ以上の要素が〜」と書くことによって誤解を減らそうとする

> [@3156](https://twitter.com/3156/status/1663747595905413121?s=20): この議論でtrue一択でそれ以外は失格とか言ってる猛者たちは普段から標準ライブラリの実装ばかりやってんのかな？
> ほとんどのプログラマはアプリケーションレベルで仕事してるんじゃないのか？
> 客の要望が曖昧な場合は実装前に詳細まで詰めるやろ。
> 「プログラマ」の主語がでかすぎなのか。

> [@kis](https://twitter.com/kis/status/1663749216706101248?s=20): 客の要望であればそれはビジネスロジックの実装の話であって、「配列がすべての条件を満たせばtrue」とかではなく「カートが出荷条件を満たすか」のような話になると思う。
> [@kis](https://twitter.com/kis/status/1663749950235373568?s=20): あと、結局アプリケーションロジックを作るときにも、数学的な原則を踏まえたビジネスルールにしたほうが堅牢な処理になりがちなので、身体感覚として身についていたほうがいいと思う。

> [@ito_yusaku](https://twitter.com/ito_yusaku/status/1663714609700941824?s=20): この議論の意見を分けている要因、当人がプログラマとして生まれ育った環境がどうだったかになっている気がするんですよね。正規のプログラミング教育受けた人はたぶんtrue一択。（追加燃料投下）

> [@kazuho](https://twitter.com/kazuho/status/1663556196522164227?s=20): そいえばこれ、「関数の名前はallとかでいいけど、定義に「配列に条件を満たさない要素がひとつもないか否かを返す関数」と書くべき」みたいな主張がないの面白かった。正しさと誤解を産まないことの両立というか

> [@chokudai](https://twitter.com/chokudai/status/1663911825514086402): 自分がさっきのでtrueを返せと強く主張してるのは、こういう「論理で考えればわかるところで論理に反することをするのって、全体の開発速度の遅延に大きく影響するし、日本の開発力がマジで下がると思ってるから」なんだけど、納得できないなら自分の説明力が足りないのでごめんって感じです＞＜
- > [@nishio](https://twitter.com/nishio/status/1663918316547723268?s=20): これを別のたとえで説明すると「sumの実装、品物の値段の合計に使うから自動で10%の消費税をつけたらいいと思うんだ！」と言ってる人に対して「いいわけないだろ！！」とつっこんでるみたいな状態なわけです
    - > [@chokudai](https://twitter.com/chokudai/status/1663918490766409732?s=20): 絶対こっちの説明の方が上手いわ！ｗ
    - > [@methane](https://twitter.com/methane/status/1663922489116721153?s=20): すごいわかりやすい。
    - > 明らかに汎用処理である要件を、それが実際の要件ではなくなにかビジネス上の具体的な要件をボカしてるに違いないと勝手に決めつけてるから「要件による」って言っちゃうんだよね。
    - > 書いてあることを書いてあるとおりに読むかどうかの問題。
    - > [@inuro](https://twitter.com/inuro/status/1663931662571548673?s=20): 責務の切り分けが曖昧なこの手の設計、不幸なことに往々にしてよく目にする。

> [@yururi0818](https://twitter.com/yururi0818/status/1664063094535131136?s=20): 個人的にはいいたとえ話だと思いますが、
> こういうふうにsumが実装されてしまっているシステムは世の中めちゃくちゃいっぱいあるので、
> たとえ話をすればするほど議論は拡散していく気がします。
- > [@nishio](https://twitter.com/nishio/status/1664082500430487553?s=20): 拡散はしません。例えば「バグってるプログラム」が世の中にたくさんあったとしても「だからバグってる方が正しい」とはならないのと同じです。
- > これの亜種ですね
- >  [[劣化コピーが広がる]]
    - [[バグったプログラムが世の中にたくさんあったとしてもバグってることが正しいことにはならない]]
