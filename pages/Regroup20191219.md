
「[[まず自分のニーズを満たすものを作れ]]」というアドバイスに従って考えると、まずいまFacebookアプリでやってるこの書き出し法を自作アプリで実現して、不満点を解消するのが良いと思う、そうすると拡張可能になることでFacebookアプリにできないようなことがわりとスルッと実現できる

Regroupの方は、現状のものをメンテナンスモードにし、バグフィックスなどを中心に運用する

「グループから表札をなくす」これはバグフィックスではない

膨れ上がった要望のトリアージが必要

リアルタイム系情報共有に関しては大きな実装が必要になる

一方で画像やScrapboxの付箋化に関しては、大きな実装が必要になるけど僕自身がとてもほしい

プロキシが必要かなと思ってた話、cloudfrontで解決できる気がしてきた

こうやってFacebookに書き出したものを、いまブラウザ上でコピペしてScrapboxに貼り、余計な文字列を手で消している。そこがスムーズになるだけで僕にとっての使う価値が生まれる

で、事後的な連携としてScrapboxだけでなくregroupもあれば良い

テキストの編集はScrapboxでやる方がスムーズかもしれない

[[Scrapboxとの相互運用]]を考える
- ScrapboxのURLを入れて各行を付箋にする、多分[[行を刻む機能]]が欲しくなる
    - まずインポートして、長すぎるものを修正することで、刻みの自動化のノウハウが溜まる

出典のScrapbox URLを保持したい
- Scrapboxに限らずWebからクリップしたら出典リンクは保持してほしい
    - 付箋の隅にScrapboxアイコンを出したらいい
    - 同様にWikipediaアイコンも。

サーバに自動保存されたら、もし開いてるマップがあるなら、自動で追加されたらいい
- やってみないとそれが幸せかどうかはわからないが、試す価値はある

この辺まで書いて、いま一息ついたところ。ここでこの内容を元に「聞き出しツール」を起動できると良い
- 聞き出しツールにAPIをつけて、ここまでの文字列とともに「セッション開始」できれば良い、セッションIDがリターンされればその後のやり取りはできる
    - と思っていたがBotをローカルマシンで動かす方針なのだった、外からアクセスできないぞ
    - WebSocketか？

音声入力も、幸せになるかどうかわからないが、なる可能性のあるものの一つ

画像付箋の実現のための技術的課題

canvasの何がどうなってチラつきが発生するのか、どうすると発生しないのかについて、小さいコードで再現実験が必要、codepenあたりで。
おそらくだけどcanvasに描かれた画像が、Safariだと消された時点でGCされるのに対してchromeだとメモリに持ち続けてて、その結果、同じものを再度表示した時に再度リクエストを投げているのだと思われる
これが事実かどうかはSafariでネットワークのやりとりを観察すれば良い
これで見れそう: [https://support.apple.com/ja-jp/guide/safari-developer/dev985c4f0fd/mac](https://support.apple.com/ja-jp/guide/safari-developer/dev985c4f0fd/mac)
これが原因なら、GCされないように掴むだけでも解決するかもしれない
Safariではネットワークアクセスが発生している
次の検証としては
・同一画面内の他のCanvasに同じ画像があったらネットワーク越しのリクエストが行われなくなるのか
だな

パスが増えると描画が重くなる問題、再描画が必要ないなら、しなければ良い
ある程度重くなってきた時点で警告
画面外の描画を止める、これはズームアウトした時の描画は遅いままだが、やる操作が付箋移動とかなら実害はない、おもにパフォーマンスの問題が起きるのはペン入力
ペン入力キャンバスを分ければ良い
そこら辺は、実際に酷使する中でわかっていく

ハンバーガーボタンか、インフォボタンで、ネットの健康度とか描画の健康度とかをチェック、必要に応じて警告すれば良い

「名前をつけて保存」が手軽にできれば、バックアップできる
- マップに、時刻の異なるスナップショットがあれば良い
- 最後の保存から5分とか経ってればスナップショット保存すれば良い、大惨事が起きてもバックアップから戻せる

図解はiPadでやる、僕のiPadはSIM刺さってない、なのでこちらもオフライン編集したくなる
- オフラインの編集がぶつかった場合、パスの追加は単純にマージ、移動はキャンセル？
- どんなぶつかり方をしてもデータが消えたりはしないように作っておけば良い、まあその設計が難しいのだけど
- 削除は、すべて論理削除にする

[[pRegroup2020]]
