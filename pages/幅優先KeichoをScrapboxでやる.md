---
title: "幅優先KeichoをScrapboxでやる"
---

[[幅優先Keicho]]をScrapboxでやると良いのでは？

[[ScrapboxでKeichoを使う拡張]]を見て思った

今のKeichoはチャットを前提にしている
- チャットでは直前ではなく以前の会話に現れたキーワードを掘り下げる時、どれについてか人間が思い出せないため「引用」という形で再掲する
- 初期の実装では引用が頻発してチャットとして心地よくなかったので、直前の発言を重視するようにした
- 結果として振る舞いが「深さ優先探索」的になった
- 話がどんどん逸れていく
- 「最初の質問」の周辺に留まるためには「幅優先探索」が必要
- ツリー掲示板形式
    - 引用するのではなくぶら下げる形で表現
    - その「最初の質問に対する深さ」を内部状態として持つようにしようかと思っていたが、箇条書きの深さでユーザに見える形で持っても良いのでは？

でもScrapboxの指定ページの任意の位置に行を追加できる必要があるか
ScrapboxにAPIがないからやりにくい
いっそScrapboxではなくてよいのでは
装飾などのタグは全部必要ない、テキスト箇条書きだけでいい
ブラケット補完機能は欲しいけどな

ターン制でよいのか？
- 自分が書いたところではないところにコメントがつく
- 振り回される感
- いっそターン制ではなく「返答のない質問の個数が上限に達するまで質問をつける」とか
    - 1件だとターン制になる
    - 3個くらいにすると面白いのでは

