---
title: "Hatena2010-06-16"
---

hatena

```
<body>
*1276693135*Haskellで同じ名前が常に同じ値を返すとは限らないという話
<a href='http://dl.dropbox.com/u/7687891/join_to_Monad/join_to_Monad.html'>モナドって結局何なのよ? &#8212; join to Monad v0.1.1 documentation</a>を読んでいて、そこの指摘が「ああ確かにこれは他の言語から来た人がつまずきやすい点だな」と思ったのでそこだけ切り出して詳しく書いてみる。まずは下のコードの穴埋めをしてみよう。

>||
$ ghci
Prelude> import ******
Prelude ******> let f x = *****
Prelude ******> (f 0) * 1
2092838931
Prelude ******> (f 0) / 1
0.9872770354820595
Prelude ******> (f 0) * 1 == (f 0) / 1
True
||<

「Haskellの関数は純粋だ、同じ関数に同じ引数を渡せば常に同じ値が返る」うんうん、それには同意する。だがしかし、それでもなお(f x)が異なる値に評価されるケースがある。それは文脈に依存する。もちろん、letやwhereを使ってfやxの指す値を変えれば(f x)の値も変わる。そういうことを言っているんじゃないよ。これはC++やJavaでは起こらないから、つまずきどころかと思う。

>||
Prelude> import Random
Prelude Random> let f x = (fst (random (mkStdGen x)))
Prelude Random> (f 0) * 1
2092838931
Prelude Random> (f 0) / 1
0.9872770354820595
Prelude Random> (f 0) * 1 == (f 0) / 1
True
||<

C++やJavaでは、引数の型が異なる関数をいくつも定義してオーバーロードできる。しかしHaskellではそれに加えて「その式を評価した結果の型」が異なる定義をいくつもオーバーロードできる。関数である必要すらない。ある名前xが指す値がなんであるかは、ユーザからは見えにくい型推論の結果によって決まり、そのxの値はかなり離れた位置のコードからでも影響を受ける。コード上で局在していない。

>|haskell|
class Foo a where
    x :: a

instance Foo Int where
    x = 0

instance Foo Integer where
    x = 1

instance Foo Float where
    x = 2

instance Foo Double where
    x = 3

main = do
  print $ x + 0 + 0 + 0 * (1 :: Int)
  print $ x + 0 + 0 + 0 * (1 :: Integer)
  print $ x + 0 + 0 + 0 * (1 :: Float)
  print $ x + 0 + 0 + 0 * (1 :: Double)
||<

この例では「型の違う0を足しているだけ」ということがわかるようにすぐそばで明示的に型を宣言しているが、推論によって演算子をいくつもまたいで影響を与えていることがわかるかと思う。

そんなわけで、(return x)が何を返すかはこのコードだけからでは分からないし、(return x) >>= ... >>= f というコードのfの定義を変えると(return x)の値が変わるかもしれない、という可能性に関しては念頭におく必要がある。つまずきポイントだ。

*1276695144*[カイゼン]掃除用具を買ってきた
何ヶ月か前、粘着剤がロール状の紙に付着していて、コロコロ転がして埃を取る器具を買って、あまりのとれ具合に感動して「文明の利器だ！」と興奮していたのだが、ついに1ロール使い切った。数日で掃除ができないことにフラストレーションを感じ始めたので(!)会社帰りに大急ぎでスーパーまで走って買ってきた。

今回はコロコロの他に、細かい毛が生えていてパタパタして静電気でホコリを捕まえる器具も買ってきた。おおお、ホコリの積もっていたモニターが綺麗になった！文明の利器だ！！

まあパタパタの方はまだ買ってきたばかりなのだけど、コロコロは本当に経験すべき。カーペットがこんなに髪の毛だらけだったなんて！というか浮気をして「この長い髪の毛は誰よ！」って怒られるのはドラマの中だけのことで現実には早々見つからないだろうと思っていたが、コロコロをして意見を改めた。掃除したらすぐわかる。

しかし、工具大好きなのになんで今まで掃除用具っていう選択肢に気づかなかったんだろう。こんなに楽しいのに。

*1276704066*「知識とは何か」ドラッカーのポスト資本主義社会を読んで考察
<a href="http://www.amazon.co.jp/gp/product/447800210X?ie=UTF8&tag=nishiohirokaz-22&linkCode=as2&camp=247&creative=7399&creativeASIN=447800210X">ドラッカー名著集8 ポスト資本主義社会</a>第1章より
>>
いまや知識とされるものは、それが知識であることを行為によって証明されなければいけない。今日我々が知識とするものは行動のための情報、成果に焦点を合わせた情報である。
<<

「成果に焦点を合わせた知識」この「成果」ってのは何だ。お金か？

もちろんお金が得られない知識よりは、お金が得られる知識の方が「成果」を生み出しているだろう。でも、「お金に焦点を合わせた知識」と解釈すると大間違いだと思う。

なぜなら、お金は資本だから。「ポスト資本主義社会」たる「知識社会」では、資本よりも知識の方が成果に対する寄与が大きい。それがこの本で主張していることなのだから、ここでの「成果」ももちろん「お金としての成果よりも知識としての成果の方が大きい」と考えるべきだ。

知識としての成果の上げ方は大きく分けて二つある。

** 自分の知識の量を増やす
自分が知識を習得する速度を上げる知識、知識を新しく発見する知識、今は学ぶことができない知識を学べるようにする知識などなど。

まあ、たとえば英語の知識はあるのとないのとで読めるドキュメントのクオリティや新しさに大きな差が出るから、英語の学習、特に英会話じゃなくて英文の速読は知識の獲得速度に大きく影響する。

** 他人の知識の量を増やす
知識は個人に属する資産であるから、自分の中の知識を他人にコピーして分け与えると全体の資産は増える。つまり、教えることは資産の生産である。効率良く教える知識は生産の効率を上げる知識だ。

<hr>

などと言うことを友達に話していて、「知識」って言葉がいくつもの意味を持っているから分類して別の言葉を割り当てた方がいいのではと指摘された。もっともだ。

- ソクラテスの知識: 自分自身を知ること、自分自身を啓発することを目的とした知識　P.61
- プロタゴラスの知識: 何を言うか、いかにうまく言うか、を目的とした知識。他人の自分に対するイメージを良くすることを目的とした知識。 P.61
- テクネー(技能): ソクラテスの時代に知識だと考えられていなかった、何をするか、いかになすか、を目的とした知識。どうやって石を綺麗に割るか、みたいな。体系的に教えられず、見よう見まねや実体験で覚えるものだった。
- テクノロジー(技術): 1700年ごろに発明された。百科全書など「知識を労働者に与えることで労働者の生産性を向上させること」を目的とした知識。知識が、労働者に与えることができる資源として認識された。労働者->生産性の高い労働者 P.36
- 機械技術: 1776年のワットによる蒸気機関(特許取得)など。これにより「労働者+機械」という労働者単体よりはるかに生産性の高いシステムができた。機械を所有する資本家とそうでない労働者に大きな格差が生まれることが危惧された(マルクス) 人力機織り機を自動織機へ、水車を蒸気ポンプへ、と考えると「道具を改良することで生産性を向上させること」を目的とした知識と言える。道具->生産性の高い道具 P.38
- 管理技術: 1881年、テイラーによる科学的管理法、1907年、フォードによるフォードシステムなど。「労働者の仕事を解析し、改良することで生産性を向上させる」ことを目的とした知識。仕事->生産性の高い仕事 P.43
- メタマネジメント: 1950年頃、ドラッカーによるマネジメントの概念。ここまでのストーリーは「Xに知識を適用することによってXの生産性を向上する」だった。このXに生産性向上のための知識それ自体を代入する。「生産性向上のための知識を改良することで、知識の生産性向上を向上させること」を目的とした知識。知識->生産性の高い知識。


<iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=AAFFAA&fc1=000000&lc1=0000FF&t=nishiohirokaz-22&o=9&p=8&l=as1&m=amazon&f=ifr&md=1X69VDGQCMF7Z30FM082&asins=447800210X" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</body>
```


[はてなダイアリー 2010-06-16](https://nishiohirokazu.hatenadiary.org/archive/2010/06/16)