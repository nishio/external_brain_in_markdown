---
title: "OSXのChromeでクライアント証明書を要するサイトにアクセスするときにパスワードを繰り返し求められる"
---

数年に一回、会社のグループウェアのクライアント証明書の期限が切れて入れ直すたびにハマってる気がする
GPT5のおかげで状況をよく理解できた
- prev: [[iPhoneへのクライアント証明書インストール]]
    - Macbook側でも時間差で罠に嵌められる
        - 証明書を取得するときはVPNに繋いでるので気づかず、時間経過でVPNの接続が解除されてからダイアログの嵐に襲われる

- [[キーチェーン]]に[[クライアント証明書]]が入った状態でも、Chromeからそれにアクセスする際にデフォルトではパスワードが求められる
- Chromeは非同期にサーバへのアクセスを試みるのでパスワード入力ダイアログが接続の本数だけ出てしまう
- Chromeからその秘密鍵へのアクセスを許可する必要がある
    - <img src='https://scrapbox.io/api/pages/nishio/GPT5/icon' alt='GPT5.icon' height="19.5"/>（クライアント証明書を使う場合）秘密鍵のアクセス制御にChromeを登録
        - キーチェーンアクセスで、接続に使っている証明書の“秘密鍵”を探す（鍵アイコン）。
        - ダブルクリック→「アクセス制御」タブ → “Google Chrome.app” を追加（必要なら “Google Chrome Helper” も）。
        - 「この項目にすべてのアプリケーションのアクセスを許可」は最後の手段（安全性下がる）。
    - <img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>ダブルクリックでアクセス制御タブがないよ
    - <img src='https://scrapbox.io/api/pages/nishio/GPT5/icon' alt='GPT5.icon' height="19.5"/>その症状は**「証明書（紙アイコン）」の情報を開いていて、「秘密鍵（鍵アイコン）」の情報を開けていない**ときに起きがちです。アクセス制御タブは“秘密鍵”にしか出ません。
