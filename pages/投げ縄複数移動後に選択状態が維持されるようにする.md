---
title: "投げ縄複数移動後に選択状態が維持されるようにする"
---

from [[投げ縄選択で複数まとめて移動]]
投げ縄複数移動後に選択状態が維持されるようにする
[[投げ縄選択で複数まとめて移動]]実装できた
- ところで投げ縄選択で複数選んで移動した後、
    - 選択対象の位置が更新されて再描画され、
    - 現状は選択対象のハイライトがUNDO/REDO対象のstateに入ってないので選択解除されたように見えてしまう
- 選択解除されたように見えて実はされてないだけなら、lassoを再びドラッグすると移動できるはずだが
    - それをやると死ぬ。理由は簡単でselectionが指しているPaperItemが上記の再描画で作り直されてしまっているから。
- この辺はPaperItem再利用の修正が入ればすんなり解決しそうだが、今は保留だな。
    - 選択して移動すると選択は解除される、という仕様で。
    - [[状態管理]]
[[pRegroup2020]]
