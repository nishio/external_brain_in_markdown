---
title: "十進数小数点演算の誤差"
---

> [@KoizumiJp](https://twitter.com/KoizumiJp/status/1631586998749384709): 十進数小数点演算をデフォルトにして、数値演算二項演算子はcontext(スコープ内)でfloat扱いとして使い分けられる言語ほしい。[[IEEE754]]のワナは初学者には難しすぎるしモチベわかないと思う。あとは有理数型と無理数も扱えれば完璧(そこまでやると数式処理システム踏み入れかも)

> [@mkashi](https://twitter.com/mkashi/status/1631786058169073664?s=46&t=fcl5teS9Ae2uzfzsSf5-uA): 10進数にも怖さはあって、例えば10進数で有効数字5桁の環境があったとして、x=5000.3とy=5000.4の平均を(x+y)/2で計算すると、足して10000.7、有効数字5桁なので四捨五入されて10001、2で割ると5000.5と、元の数字に挟まれた区間の外に出てしまう。これは2進数では起きない。

10進法にしたからと言って誤差が消えるわけではないので、[[誤差]]に起因する不思議な挙動から自由にはならないという話
