
🤔短いキーワードの再出現はディスカウントすべき
- →✅短いキーワードの再出現はキーワード扱いしない

[[✅出現してるがキーワード抽出で選ばれてない部分文字列をキーワード出現とみなす]]の悪影響

![image](https://gyazo.com/0723b1a51b99faa6a2f95b0249ab73b6/thumb/1000)
「人間」の「間」がキーワードだと判断さている。
僕が頑張って「人間」という意味に解釈して返事したが、その返答の「人間」ももちろん「間」を含んでるので再度カウントされてしまう。

現象観察
:

```
0> その「頻度」は、どんな「頻度」ですか？
1> 二つのキーワードの間の関係を聞く質問が最近あんまり出てこないなー、と思ったので調べてみたらバグ修正の影響であまり出てこなくなってた
--------------------------------------------------
total: 122:質問, 112:関係, 100:頻度, 100:バグ修正, 99:出てこない, 99:出てくる, 99:テストする, 78:キーワード, 72:調べる, 71:影響, 67:間, 53:修正する, 37:修正した, 37:二つ
--------------------------------------------------
...
0> その「関係」は、どんな「関係」ですか？
1> それを直接聞く質問もある。あとは間に何があるか聞いたりもする。
--------------------------------------------------
total: 335:質問, 167:間, 142:影響, 130:関係, 100:頻度, 100:片方, 100:バグ修正, 99:出てこない, 99:出てくる, 99:テストする, 97:影響する, 94:関係がある, 78:キーワード, 75:する, 72:調べる, 67:二つ, 53:修正する, 45:片方にどう影響する, 37:修正した, 28:ある, 18:直接聞く質問もある
--------------------------------------------------
...
この「質問」は、何のようですか？
1> 人間に投げかけることで、その人間の中にあるまだ言語化されてないものを引っ掛けて引っ張り出して言語化させる釣り針
*** 間 100 ['人間', '人間に投げかける']
*** ある 28.0 []
--------------------------------------------------
total: 316:質問, 267:間, 142:影響, 130:関係, 100:頻度, 100:釣り針, 100:片方, 100:バリエーション, 100:バグ修正, 100:シンボリックモデリング, 100:サーバ, 99:出てこない, 99:出てくる, 99:テストする, 97:影響する, 94:関係がある, 88:特定, 80:する, 78:キーワード, 75:人間に投げかける, 73:プログラム, 72:調べる, 69:投げかけること, 67:二つ, 64:引っ掛けて引っ張り出して言語化する, 56:ある, 53:修正する, 45:片方にどう影響する, 44:言語化, 37:修正した
--------------------------------------------------
...
0> その「間」は、どんな「間」ですか？
1> 間？人間のことか。人間は何かうまく言葉にできないモヤモヤを感じて、チャットボットと話をしにくる。
--------------------------------------------------
total: 316:質問, 297:間, 142:影響, 130:関係, 100:頻度, 100:釣り針, 100:片方, 100:バリエーション, 100:バグ修正, 100:チャットボット, 100:シンボリックモデリング, 100:サーバ, 99:出てこない, 99:出てくる, 99:テストする, 99:チャットボットと話をする, 99:チャットボットと話をしにくる, 97:影響する, 96:モヤモヤ, 94:関係がある, 88:特定, 80:する, 78:キーワード, 75:人間に投げかける, 73:人間, 73:プログラム, 72:調べる, 69:投げかけること, 67:二つ, 66:話をする
--------------------------------------------------
```


うーん、このケース、単にディスカウントでもダメな気がするぞ
- そこまでに普通にキーワードとして「間」が2回出現してスコア100を超えてる、2位
- 1位の「質問」に対して既にいろいろ質問済み
- 「間」のスコアが加算されなくても、直前に出現したと判定されただけで直前ボーナスで質問対象になる
    - 出現とみなさないようにすると、直前出現の「釣り針」が勝つ
:

```
1> 人間に投げかけることで、その人間の中にあるまだ言語化されてないものを引っ掛けて引っ張り出して言語化させる釣り針
DEBUG:server.keicho.action:* 267.40 この「間」は、どんな「間」ですか？
DEBUG:server.keicho.action:* 400.40 その「釣り針」は、どんな「釣り針」ですか？
```

- 実際に出現みなしをされたもの
    - `4:質問, 4:する, 3:チャット, 3:ある, 2:話, 2:出てくる, 2:くる, 1:間, 1:相手になる, 1:相手, 1:感じ, 1:影響, 1:人, 1:プログラム, 1:なる`
    - うーん、3文字以上に限定するか `3:チャット, 2:出てくる, 1:相手になる, 1:プログラム`

