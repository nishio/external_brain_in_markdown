---
title: "ScrapboxAutoTrans開発日記2022-01-12"
---

[[pScrapboxAutoTrans]]

[https://www.facebook.com/564923216/posts/10160013259473217/?d=n](https://www.facebook.com/564923216/posts/10160013259473217/?d=n)
- Notionで編集すると静的なサイトが生成されるもの
- [[Vercel]]を使ってる
- nishio: Scrapboxで編集すると静的なサイトができるものを作ろうとしてたのでVercelのとこだけ参考にする！
- 原田 惇: 作っといてなんだけど、みんなどういう時にこれ使うんだろうなーとか思うのだけど西尾さんはなぜそれをしようとしてるんですか？？
- nishio:
    - 間に機械翻訳をかましたい
    - Scrapboxへの日本語のアウトプットは個人的に低コスト
    - 英語での発信はやろうと思えばできるが腰が重い
    - 静止摩擦が大きいせいで動き出さず0であるよりは、機械的に60点の出来のものを公開した方がベネフィットがある
    - 文脈としてエンジニアの知的生産術は自分でおおよそ翻訳してあるのだけど、これを電子書籍で売るよりScrapboxに置いた方が将来価値が高いと考えていて、単独で置くよりはガンガン更新されてる普段使いのプロジェクトとのつながりを持った方が良くて、普段使いのプロジェクトは日本語なので機械翻訳しよう、という流れ
    - さらにもう一点追加情報があってScrapboxはJSを頑張りすぎててWebページを直接機械翻訳することができない

[/villagepump/超軽量なScrapboxクライアントを作った](https://scrapbox.io/villagepump/超軽量なScrapboxクライアントを作った)
- [[Vercel]]を使ってる
- とりあえずこれをforkしていじってみるところからスタート

[/villagepump/2022/01/12](https://scrapbox.io/villagepump/2022/01/12)
- Vercelのアカウントを作った
- [[Scrapbox Reader]]をforkしてデプロイした
- まだ何も理解してない
- URLを見てAPIを叩いてるだけだから自分のプロジェクト以外も同様に表示される
    - それがいいのか悪いのかは後で考える
    - 将来的に機械翻訳を入れた時、アクセスがトリガーで課金されてる翻訳APIを叩いてしまうとクローラに踏まれて僕が破産するから少なくとも自分のプロジェクトかどうかの判断は入れないとな
        - どういうトリガーで翻訳するのか、アクセスではなさげ
- やりたかったことを改めて言語化
    - 自分の異なる2つ以上のプロジェクトの間にリンクができてほしい
    - 明示的にプロジェクト間リンクとして作られたものではなく、共通のキーワードによるもの
- 現状のScrapbox Reader、まず同一プロジェクト内でのリンクの表示もないのでそこを作るところから

---
名前がないと扱いにくいので仮に「ScrapboxAutoTrans」としたが、キー概念が自動翻訳であるかどうかは未知数
- [[private/public分断]]問題の解決とか
    - 僕が[[Scrapboxのprivate→public転送]]をしてないのは公開目的のページを編集したら即座にその編集がpublicになってほしいから
- 複数のプロジェクトの接続とか
    - 今回のプロジェクトの僕にとっても一番のベネフィットは2つある公開個人プロジェクトの結合
    - なんで単純にマージしないのかというと、言語が違うから

直近の目標ではないがKozaneba埋め込みたいよね

やったこと
- Scrapbox ReaderをFork
- Vercelにアカウントを作ってデプロイ
- 少し改造
    - リンク先と2ホップ先の関連ページが表示できるようになった
    - 見た目はさておき、情報としては。

複数のプロジェクトについて考える
- 両方のAPIを叩けば良いのでは
- 両方あれば一番上に「両方あります」と表示して両方表示すれば良い
- 片方しかなければ黙ってある方を表示

それができてから「ユーザの選択している言語」で切り替える
- 英語を選んでいたら
    - 英語版
    - 日本語版の機械英訳
- 日本語を選んでたら
    - 日本語版
    - 英語版のタイトルのみの機械和訳

やる予定ないけど思いついたのでメモ
- 誰でも編集できるプロジェクトfooを用意する
- project/pageにアクセスしたらfoo/pageのAPIも叩いて並べて表示
- 見た目を少し調節すると「コメント欄」になる

次は二つのプロジェクトを叩いて並べて表示
- その前にリンク表示をもう少し直して上流にプルリクする？
