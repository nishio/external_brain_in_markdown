
- 異なる複数のものがある
- これらの操作を[[共通化]]しようと考える
    - [[共通のインターフェイス]]をつけようと考える
    - それぞれ別々に[[習得するコスト]]がもったいないから
- 異なる複数のものにはそれぞれ異なった得意分野がある
- 理想は双方の[[長所]]を活かせることだが、しばしば双方の[[共通部分]]だけになり[[強みを失う]]
![image](https://gyazo.com/ab259ca763419224b870fdc26f48f9c4/thumb/1000)

Aが持つ機能を、Bが持たない場合
- 路線1: サポートしない路線
    - 実装は楽
    - 上で書いた残念なことになる
- 路線2: エラーにする路線
    - 例えばインターフェイスはあるが、実行するとエラーになる設計
    - 結局「どのバックエンドでは何が使えるか」はユーザが理解しなければならない
- 路線3: 頑張って実装してしまう路線
    - 例: [[機械学習]]ライブラリScikit-Learnでは異なる学習モデルに[[共通インターフェイス]]を用意した。
        - モデルmに対してメソッド`m.predict_proba`は確率推定の結果を返す
        - 確率推定の機能を持たないSVMに対してもこのメソッドが生えている
        - 4/5のデータで5回SVMを走らせて[[ロジスティック回帰]]している: [[SVMで確率推定]]
    - とても労力がかかる
    - 必ずしも実装できるとは限らない
        - その場合、路線2に帰着する

[[共通インターフェイス]]の[[罠]]
#ソフトウェア設計
#設計