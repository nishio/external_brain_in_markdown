
hatena

```
<body>
*1207268887*電車の間隔
9時27分出発の電車に乗れなかったら、次は10時46分だそうな。で、いま9時26分。あーーっ。

*1207272886*ぎゃ

時間がない、バッテリーもない

*1207276766*開発合宿
いま佐倉。

ActionScriptでサーバとやり取りしてどうこうするプログラムを、サーバ側のプログラムもろとも作る場合って、どうやるのが楽なんだろうなぁ。静的なファイルの配信だけならRascatだけで全部やっちゃうのが楽だけど。

*1207278472*JR成田線
揺れる。
酔う。

あとデジカメのバッテリーを充電して装着した上でそのまま忘れてきたらしきことが判明したorz

開発の息抜きにでもHDR試そうと思ったんだけどなー。

*1207278538*のどかだ
遠くまでたんぼだ。

画面見るのやめて
田んぼを眺めていやされることにした。

*1207279032*関東平野すごい
平らだ。

遠くを見ても生駒山脈とか見えないよ。

*1207281433*ついた

Suica使えない…
f:id:nishiohirokazu:20080404125700j:image

*1207286206*86開発合宿
１０人くらいの部屋が３つ。

なんだこの高校の修学旅行みたいな雰囲気は！と言ったら修学旅行で全員ノートパソコンとかあり得ないと言われた。

結構広くてきれいな旅館で、24時間温泉に入れて、電子レンジとかお湯とか使える。会議室も借りられる。ちょっと遠いことをのぞけばいい会場だ。

昼ご飯はカレー。

「VMは嫌いです」(上野氏)

f:id:nishiohirokazu:20080404141520j:image

TwitterPodを入れる。

かっこいい。

-マリオの効果音FLASH
--http://pya.cc/pyaimg/pimg.php?imgid=23982
--今度ネタに使おう

-HugFlash(Windows95/98/Me / 画像＆サウンド)
--http://www.vector.co.jp/soft/win95/art/se326509.html
--MacBook に VMWare 入れないとなー。Windows用のとか使えないの不便だな。

-MOONGIFT: &#187; FLVファイルからMP3を抽出「iExtractMP3」:オープンソースを毎日紹介
--http://www.moongift.jp/2008/01/iextractmp3/
--お、Mac用のもあった

-BGMとして島唄をかけているから変な曲を横から流してDNBKさせようと思ったのに持ってきていなかったorz

-「最近ハリボーを乾かして固くしてから食べています」「いや、ハリボーを固くしたいのなら冷凍庫に入れるのがいい。冬場にハリボーが固くなることに気がついて冷凍庫に入れてみたらとても固いハリボーが得られた」（はやみず氏）
-- こういうところからノーベル賞級の発明が生まれるのです(ぇ


f:id:nishiohirokazu:20080404150202j:image
yuyarinが寝てしまった

-SWFTOOLS入れよう
--http://www.swftools.org/download.html

-音を鳴らした
--http://d.hatena.ne.jp/nishiohirokazu/20080404/1207292161
--初期化に結構時間がかかる。同じ音を繰り返して鳴らせない。なぜか。

-AppKiDo
--http://homepage.mac.com/aglee/downloads/appkido.html

f:id:nishiohirokazu:20080404154437j:image

17時：suztomo インしたお(o^冖^o)

amachangはまだこない。

まだ寝てる

誰もいない。泳ぐならいまのうち。
f:id:nishiohirokazu:20080404175839j:image

ふたを全部外すのは面倒なので１枚だけ外して入った。面白い。

- 地震がくる
- IRCに「地震が来たー」と書く
- みんなが書いているのでみんなと同じなのがいやなので「自身が来たー」と書く
- 「白身がきたー」（上野氏） (via IRC)
- そしてなぜ「白身が来たー」と言ったのかを滔々と解説する上野氏をみてみんなで和む。

>>
19:24 amachang has set topic: 白身とは何か
19:25 amachang: 白身に 1 を足すと self になるのか
19:28 nishio: 白身 = self - 1
19:29 nishio: 君 = you
19:30 nishio: 「だから卵は僕と君なんだけど、１足りないんだ。一緒に１を作らないか？」
19:30 nishio: というプロポーズはどうか、　らんぐどしゃ
19:30 amachang: にしおエロい
<<

これはひどい（＞＜

「twitter検索で『上野氏』のフィードを取ったら既にライブドアリーダーで3usersだったんですけど、誰だよ！」(上野氏)

-dtraceの使い方を教えてもらった。
--sudo dtrace -n "syscall::pwrite:entry,syscall::write:entry{trace(execname)}"
--sudo dtrace -l | grep "write"

-ループバックマウント
--Ubuntuはなぜパーティションを切らなくてもインストールできるのか、という話で。
--ファイルシステム上に大きなファイルを作って、それをファイルシステムとしてマウントする。
--Macのdmgとかもそう。

- Windows 5人、Mac 8人、Linux 3人。

-「C言語的には配列とポインタは別もので、配列がポインタ的な振る舞いをすることがあるというだけ」(上野氏)

-Macでもシングルユーザモードで起動することができる。
--Mac OS X: シングルユーザまたは Verbose モードで起動する方法
--http://docs.info.apple.com/article.html?artnum=106388-ja

-「うーぶんつ」(上野氏)

-pootarouのマシンにamachangがUbuntuを入れたが、途中で電源を切ったためファイルシステムが半壊。
-このままpootarouマシンが壊れて、amachangが責任を感じてMacBookを買ってあげる、というストーリーはどうか。らんぐどしゃ。

(徐々に書き足す)

*1207292161*[Mac][Python]音を鳴らす方法
-Macでコマンドラインからサウンド再生 | Weboo! Returns.
--http://yamashita.dyndns.org/blog/play-sounds-with-python-on-mac/

これを見て作った。

>|python|
from AppKit import NSSound
from time import sleep

s = NSSound.alloc()
filename = "/Users/nishio/tmp/mario-sound/jump.wav"
s.initWithContentsOfFile_byReference_(filename, True)
print s
s.play()
while s.isPlaying():
    sleep(0.1)

s.stop()
||<

できたできた。でも一度再生した後のNSSoundオブジェクトのplayをもう一回呼んでも音が鳴らない。巻き戻し的なメソッドが見つからない。うむむ。

>|python|
def play(filename):
    s = NSSound.alloc()
    s.initWithContentsOfFile_byReference_(filename, True)
    print s
    s.play()
    while s.isPlaying():
        sleep(0.1)
        
    s.stop()
    s.dealloc()

filename = "/Users/nishio/tmp/mario-sound/jump.wav"

for i in range(10):
    play(filename)

||<

とりあえず毎回ファイル名を指定してinitすれば繰り返してならすこともできるけど、正しい方法ではないような気配がする。

*1207312557*子プロセスに標準入力と標準出力を中継
下のようなコードを書いてsedでテストをしていたのだけどうまく動かない。

>|python|
import sys
from subprocess import *
from time import sleep

cmd = sys.argv[1:]
bufsize = 1
p = Popen(cmd, shell=True, stdout=PIPE, stdin=PIPE, bufsize=bufsize)

while True:
    sleep(0.1)
    print 1
    data = sys.stdin.readline()
    print 2, repr(data)
    p.stdin.write(data)
    print 3
    data = p.stdout.readline()
    print 4
    sys.stdout.write(data)
||<

こうなってしまう。

>||
$ python ~/tmp/watch_stdin.py "sed s/a/b/g"
1
aaa
2 'aaa\n'
3
||<

本当は子プロセスの標準入力にaaa\nが入ると子プロセスが標準出力にbbbを返すはず。

>||
$ sed s/a/b/g
aaa
bbb
||<

という悩みをfrsyuki君に相談したらRubyで書いてみたけどやはりsedではうまく行かなくて、catならうまく行くという話。

>||
$ python ~/tmp/watch_stdin.py "cat"
1
aaa
2 'aaa\n'
3
4
aaa
1
||<

ほんとだ、うまく動く。「これはもうsedの実装を読むしかありませんね」(上野氏)


とりあえずきれいにしておいたバージョンを載せる。
>|python|
import sys
from subprocess import Popen, PIPE
from time import sleep

cmd = sys.argv[1:]
bufsize = 1
p = Popen(cmd, shell=True, stdout=PIPE, stdin=PIPE, bufsize=bufsize)

while True:
    sleep(0.1)
    data = sys.stdin.readline()
    if not data: break
    p.stdin.write(data)
    data = p.stdout.readline()
    sys.stdout.write(data)
||<
</body>
```


[はてなダイアリー 2008-04-04](https://nishiohirokazu.hatenadiary.org/archive/2008/04/04)