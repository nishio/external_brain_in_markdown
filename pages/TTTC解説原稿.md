---
title: "TTTC解説原稿"
---

from [[日記2024-07-09]]
TTTC解説原稿

技術的な解説とソースコードの公開を行います。


Talk to the City
アメリカのNPO
AI Objectives Institute
が提供しているオープンソースソフトウェアです。
ライセンスはAffero GPLという強いコピーレフトのものです。それがどういう意味なのかを簡単にいえば「使ったら同じ条件でソースコードを公開せよ」となります。なのでこの記事で公開するソースコードも同様にとします。


ScatterとTurboがありますが、今回はScatterを使っています。Turboに関しても試してはみましたが、今回実用的に使うところまでは至りませんでした。


環境構築のトラブル
事前に

環境構築が難しすぎる
Pythonのバージョン
WindowsのPython
サンプルデータを配布するために
Git LFS

LFSの使用方法を徹底するかいなか
今回のユースケースでは使わなくて良いと判断した



内部プレビュー
自分一人で試している時には気づかなかったが
Aさんが作る
公開前に内部で共有してBさんにチェックしてもらう
公開作業をする

静的レンダリングを行うので、自分の手元でプレビューするなら
公開するなら

非公開でシェアしようとしたときGitHub Pagesでプライベートリポジトリからデプロイしようとすると有償プランが必要になることがハードルになりました。


公開されていないけど他人に見せられる状況
GitHub Pages
公開リポジトリ

GitHubにpushして
プレビューページのURLをSlackでシェア



Netlify
privateリポジトリからの継続的デプロイは有償機能だが、1ヶ月の試用期間があったので無償で実行できた
![image](https://gyazo.com/eb709c123dce0553a5edd075b60ca72b/thumb/1000)
おっと今日までじゃん
![image](https://gyazo.com/60597a606429d82b3549ec66c15a106d/thumb/1000)


[https://gist.github.com/nishio/d4e5d46a54a84bed680713a3d3af1404](https://gist.github.com/nishio/d4e5d46a54a84bed680713a3d3af1404)

![image](https://gyazo.com/f236dd7a42c884c8966e409101c576a8/thumb/1000)



日本語化パッチ
多言語化されている
日本語をデフォルトにする機能がない(たぶん)
英語で表示されてから「右上の言語切り替えボタンで日本語に切り替えてください」だと離脱されることを心配

多言語化して日本語をデフォルトにするかどうか

これをどう解決するかは悩ましい問題です。あらゆる人の意見を聞くブロードリスニングの思想としては、あらゆる言語で意見を受け付け、あらゆる言語に翻訳して提供するのが理想です。しかし、それには無限にコストが掛かります。
今回は初の試みなので、まずは最も低コストな方法で実験をし、実験を繰り返して改善すべきだろう、であるなら不確実性を拡大する翻訳プロセスを介在させない方が良いのでは、と考え、日本語のみで提供することにしました。

それに合わせてUIの日本語訳データをコードに埋め込む処置をした

[Make UI Japanese (for Talk to the City Scatter)](https://gist.github.com/nishio/d943564e36d7891cf4e24604ed27f30a)
