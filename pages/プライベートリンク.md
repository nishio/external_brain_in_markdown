
[[作りたいScrapbox拡張のメモ]]

ユースケース
- 著作権などの理由で公開できないファイル(論文、裁断スキャンした本)をDropboxなどに置く
- そこへのリンクをScrapboxに書く
- そのファイルに対するコメントなどを書く
- 自分はリンクをワンクリックして開きたい、他人は開けてはいけない

実装案1
- 拡張に鍵を設定しておく。
- `[secret URL]`と書くと拡張がURLの部分を暗号化してScrapboxに書き込む
- 公開プロジェクトを見る第三者は暗号化されているのでリンクをたどることができない
- 表示した時にはそのURL部分が復号されていて、拡張を入れているユーザはただのリンクであるように使える
    - UserScriptに置いちゃうと復号鍵がバレちゃうからダメか？
    - localStorage使えばいい？

実装案2
- 別途データベースを持ちたくないからURL部分に元のURLを復号できる情報を全部持たせようと考えていた
    - が、待てよ？
    - `https://scrapbox.io/api/pages/<privateProj>/<pageName>` で行データが取れる
    - Private Projectに対応表を書いておけば良いのでは

見た目案
- `[secret 説明ページへのリンク?元URL復元のための情報]`
    - 拡張を入れていない人も、それが拡張を入れてないからたどれないリンクだと理解できる

入力方法案
- URLをコピーしてAutomatorで変換して貼り付け
- 秘密情報が外に出ないので安心
