---
title: "次のいどばたシステムの議論"
---

2025-07-23
忙しくてユーザサイドとしての体験談とか困ったことを整理しきれてないんですけど、雑にフィードバックしておきます:
- いどばたによって「自分の意見を提案する」という体験を8000人くらいに配れたのは都知事選の2桁上の成果だと思う、世界最先端事例でもある
- 「生のエラーメッセージをユーザに露出する問題」が解消しなかった、その結果大量の問い合わせに困った
- クレジットが尽きている時の振る舞いが設計されてないので単にエラーになる、エラー回避のためにクレジットを入れ続ける運用は、予算承認の遅い組織では問題大きくなりそう
- 直接GitHubに書き込んだことで、そのデータを機械的に扱うことが困難になった
    - GitHub APIからの情報収集がRate Limitになるので全件を対象にした分析をするためにまず差分取得して溜めるシステムが必要、前半はずっとそれをやってた
    - 後段の処理のやりやすさ的にはDBに入れてGET APIが欲しい
- たくさん来た提案の優先順位付の仕組みがない
    - 後から気づいてX上での投稿とかGitHub上でのいいねとかをやろうとしたがシステムが分離しててアカウントも別途必要なので難しかった、いどばた自体が持つ方がいいのでは
    - 投票？Quadratic Voting？
- 類似提案の合流機能が必要、たぶんGitHubに直接書き込んでしまってるのでシステムから扱うのが困難になっている
- 提案を見る担当者が複数人いて内容によって分担している、この分担を割り振ることが(データを取りにくいことが原因で)大変だった、後付けでGitHub Actionsで無理やり実現した
- 生の修正差分として生成されてしまうと、PR間でガンガンconflictが起こる、人力で解決していて辛い
- 提案を人間が見ているのだが、見た段階では投稿者にフィードバックがないので「放置されている」感を与えてしまう、「何人が閲覧」とか「議論中」とか色々な情報を素早くフィードバックすることができるとベターだと思う


2025-07-28
NISHIO Hirokazu
集まった後のデータを扱うユーザとしては「直接GitHubに入れてGitHubをデータベースとして使う」のはやめてほしいと思っている(開発に関わってないので好き勝手なことをいう)

kuboon
プルリク作る時にDB にもコピーすればOK?
[https://dd2030.slack.com/archives/C08FF5MM59C/p1753405629484319?thread_ts=1753258152.477449&cid=C08FF5MM59C](https://dd2030.slack.com/archives/C08FF5MM59C/p1753405629484319?thread_ts=1753258152.477449&cid=C08FF5MM59C)

NISHIO Hirokazu
次に何をするかは決まってないのだけど、僕はプルリクを作るべきではないと思っている
- 都知事選の時には人間がIssueを作った、GitHubを使えない人を取りこぼしてるという議論になった
- 参院選の時はAIがPRを作った、2桁くらい多くの意見を集めることはできたが、しばしばPRのマージが困難で、結局人間が各々のPRを見て新しいPRを作ってて、そこの工数が大きい
- この問題は「マニフェスト文言修正のPR」という詳細度の高すぎるものを出力したことが原因で、そうではなく人々の問題意識や、その問題を解決しうるいくつかの選択肢の中でどれを好むのかのようなもっと手前のデータを作るべきだったと思う。で、それをみて人間のスタッフがマニフェスト修正PRを作れば良い。

kuboon
プリルクじゃなくて issue にすればいいのかも？
提案をDBに入れると同時に github issue にする
既存の提案と内容が似通っている場合はそれを提案者にまず紹介し、なお改善要求があれば当該 issue へ追記する
公聴AI的なものと人間が協調して、 issue を解決するプルリクを作成、マージする
関連する issue が close される
issue が close されたら github action で policy-edit へ通知し、「マージされた」という状況をDBにも反映する
「提案された意見」一覧画面をDBから生成。マージ済みのものについては該当する PR へリンク

NISHIO Hirokazu
いやー、類似度の判定とか、なんなら投票とかをできるレイヤーが間に挟まるべきなんじゃないかなーと。
根本的に人間が頑張らなくていい仕組みを新しく作る必要があるよねと思っている。
補足: 解こうとしている問題に対してGitHubのデータ構造やUIは適切ではなく、GitHubに入れることを前提とすると発想が縛られてしまう

---

kuboon
> 生の修正差分として生成されてしまうと、PR間でガンガンconflictが起こる、人力で解決していて辛い
これはどういう方向で解決可能なんですかね？アイデアが湧かない

nishio
「AIがインタビューする」というところまではいい、その結果として出力されるものが「マニフェストの文言の修正」なのが過度に具体的すぎる
「ユーザが何を解決すべき問題だと思っているか」「ユーザはその問題の解決策として何を提案しているか」の抽出をするべき
「解決すべき問題」の似ている複数の提案は、解決策が異なっていてもまとめるべき
そもそも解決策は構造の見えてない一般ユーザからの提案だと間違っていることの方が多い、そこに重要度を置くべきではない
「解決すべき問題」が複数の提案から集まったり、他のユーザが「共感する」ボタンを押すなどして、スコアが上がっていって、高いものから「どうやって解決すべきか」の熟議がトリガーされる(この共感ボタンがSNSのいいねと同様に速いフィードバック手段として機能する)
熟議部分はいまはYour Prioritiesをイメージしているけど、Polisでも「いどばた会議」でもありだと思う。
