
prev [[Kozaneba開発日記2021-10-01]]
![image](https://gyazo.com/112315562acdd784a4fb2715e28089f3/thumb/1000)


-----
他人の書いた文章を探索するのに使った、便利
- 矢印はとても便利
    - 「近接させることによって表現された関係」に限定されなくなる

- 矢印だけではなく普通の線、もしくは二重線が欲しい
    - 推移するわけでも対立するわけでもない
    - もともとAというこざねがあり、それからAの内容を詳しく解説したグループができたようなケース
    - 一番直感的にはイコールで繋ぎたい
    - 今用意されてる機能ではグループにAというタイトルをつけることになる
    - ![image](https://gyazo.com/72b05907e6c63bfc2c1030b979e489ed/thumb/1000)
        - 3の段階で「これとこれは同じ」という表明が近接での表現を強要されてる
        - 開いたままだとかさばるから閉じる
        - しかし閉じると開かなければ見れない
        - 近接ではなく線で結ばれてるなら離れた場所に置くことができる

- グループに対して矢印を引いた時に、端がおかしい
    - 離れてるケースもめり込んでるケースもある
    - グループのバウンディングボックス？
    - 子要素に矢印を書いてから閉じた場合？

- 矢印の追加UIはやはり少しやりにくい時がある
    - 1本の矢印を引くときだけの矢印モードが必要か？

- グループを閉じた時に最大サイズのサイズを継承する機能
    - 前にも書いたがやはり必要

- 通常サイズより小さくできても良いのでは
    - 僕が個人で使ってる時、重要ではないものはそもそもこざねを作成する段階で削除していた
    - 他人の文章を添削するにあたって、助詞や接続詞などを消さずに残した
    - そうするとそれらが1倍サイズなのでその他のものを全部拡大する必要が出てきた
- という文章を両方のやり方で表現
    - ![image](https://gyazo.com/efa0595dc7e8d9185c4ed23ea1670805/thumb/1000)
        - [Twitter](https://twitter.com/nishio/status/1444699350085423106)
            - 他人の文章を添削するためにKozanebaを使ってみたところ面白いことに気づいた。
            - 入力が同じ文章でも、僕個人がこざねを作るときは左のように作る。だけど他人の文章を添削する時、僕は無意識に右の作り方をした。
    - ![image](https://gyazo.com/a647b14f4a9e0ad3387657471dc5bd5e/thumb/1000)
        - 先程の図の右の状態から、助詞などはそのまま、重要な機能語を拡大して、結果として拡大したこざねだけピックアップすると先程の図の左の状態になる
    - ![image](https://gyazo.com/0becd01a242df92dc5f1f838448bdc28/thumb/1000)
        - 僕が一人でやる場合は最初から左の形で作られて、そこから空間配置を始める。これは世の中の人にとっては一行程スキップされてるように見えるのかもしれない
        - 文章を入力したら左のようなこざねを作るようなアルゴリズムを試作して、満足いく完成度にならなくて保留してたのだが、実は単に単語に刻んで右のようなこざねを作る方がユーザの満足度が高いのかもしれない。
        - それを作った時と違って今なら複数単語でもグループ化して一つの塊にできるしな。

矢印を含むグループを閉じた時におかしい
- 二項ならOK、それより多い時にNaNになるのだろう
- 直した

`@firebase/firestore: Firestore (8.8.0): You are overriding the original host. If you did not intend to override your settings, use {merge: true}.`
- 直した

![image](https://gyazo.com/ede48304d187644ad953ec443438106d/thumb/1000)
???
「グループの位置」が中心ではなく重心だったので中身が偏ってると矢印の端点がかわり、なのに幅は全体の半分としていたことによる
- 直した

---

- グループを閉じた時に最大サイズのサイズを継承する機能
- 普通の線
- 二重線

- ![image](https://gyazo.com/90a6ed3be3687f6434f564f88742658c/thumb/1000)
    - うーむ、そうなるか
- ![image](https://gyazo.com/4d463f6028898c9760c14429eed4e87f/thumb/1000)
    - 少し短くしても全然ダメだな
- ![image](https://gyazo.com/eb2de04e8499f8f7e80ebf4dad96eb9b/thumb/1000)
    - 数学を頑張れば交差点も上手いことできなくはないが頑張らないで誤魔化してみる
- ![image](https://gyazo.com/a74551e2fd66e7f65ba493e78caf8f3d/thumb/1000)
    - うーん
        - ![image](https://gyazo.com/6aed61e2e21465e5b5f16b402b0b25f0/thumb/1000)

数学を頑張った
- ![image](https://gyazo.com/112315562acdd784a4fb2715e28089f3/thumb/1000)
- 結論: ${1\over\sin\theta} + {1\over\tan\theta}$
