---
title: "Scrapboxで作成日付をタグに入れて新規ページ作成する方法"
---

下記の内容でブックマークレットを作ればよい。コード中の「projname」は自分のプロジェクトの名前に変更すること。
 javascript

```
javascript: var n = new Date(), ds = n.getFullYear() + "-" + (n.getMonth() < 9 ? "0" : "") + (n.getMonth() + 1) + "-" + (n.getDate() < 10 ? "0" : "") + n.getDate(), ts = n.getHours() + ":" + n.getMinutes() + ":" + n.getSeconds(); location.href="https://scrapbox.io/projname/" + ds + " " + ts + "?body=[" + ds + "] " + ts;
```


新規ページ作成時にURLのGETパラメータbodyでコンテンツを指定できるので、JavaScriptで日時から文字列を生成してbodyに追加している。
現時点で"/projname/title/?body=..."の方法ではタイトルなしでページを作成することができないので、日付をタイトルに入れているが、適当に編集するとよい。もし編集しないで日付タイトルのままにした場合、2回目以降ではそのページが開かれることになる。「タイトルも付けられないくらい断片的な文章」は日付単位でまとまっててもいいんじゃないかと思うので特に変更の予定はない。

---
追記： 現時点でのScrapboxの挙動では2017-04-09というタイトルのページをfooに変更した後で、このAPIを使って新たに2017-04-09というタイトルのページを作ろうとするとfooにリダイレクトされてしまいページの作成ができない。そこでタイトルに時分秒まで入れるようにした。1秒に2回作らない限りはこれで大丈夫。

[[2017-04-09]]