---
title: "✅最長行をワンクリックで刻む"
---

2021-01-19
![image](https://gyazo.com/709f98222e39d13bfa18892117590f70/thumb/1000)
[[長文の付箋への分割支援]]の実装

付箋分割の成功率が100％でない以上、変換した結果を見て「戻したい」と思うことがあるのではないか、ってことが気になっている
- より良い方法が思いつかない(2021-01-19)
    - Undo？
        - [javascript - How to make undo work in an HTML textarea after setting the value? - Stack Overflow](https://stackoverflow.com/questions/44471699/how-to-make-undo-work-in-an-html-textarea-after-setting-the-value)
    - →[[チャットログ全文を付箋にする]](2021-03-29)
- 上記の動画では変換前の文章が右に残っている
    - 最悪ここからコピペできる
    - でもこれは修正した
        - ここが更新されないと「次に長い行」がわからないし、分割もできない
    - 直前に分割したものを別途表示しとく？
        - そこからコピペ？
            - コピペしないでワンクリックで戻したい
            - →それundoじゃん
        - このスタイルだと「全部戻す」だけでなく「一部戻す」とか「元の文章を参考にして編集」とかができる
- > 大久保 康平 つまらんが、結果を即反映するのでなく、モーダルで確認して ok/cancel できる、とか？
    - そこは悩ましいところなのだけど、良い方法が思いつかないのでとりあえずシンプルな方法でやって、使ってみて「どうだと嬉しいのか」を、もっと明確にするのがいいかなーと。YAGNI的な意味で。
    - この件、今は1行ごとにボタン押してAPI叩いてるけど、ユーザとしては1行だけ分割して欲しいとかなくて、ボタン一発で20文字超えてる行を全部分割して欲しいのでは？って気がしてきた

done
- ボタンを押したとき、フォーカスをテキストエリアに返す
- カーソルの位置も適切に変更した方が良い
    - 置換された部分の末尾に移動した
