---
title: "解法メモ"
---

- 100人の囚人がいる
- 白か黒の帽子をかぶっている


- まず端から考える
    - 最初の1人について考える
        - 最初の1人は、何もヒントを得ることなく自分の帽子が黒か白かを答えなければいけない
        - どんなアルゴリズムでも彼の正解を保証することはできない
    - ということは、残りの99人は全員正解する必要がある
        - まず端から考える
            - 2人目は、1人目の発言を聞き、自分の前の98人の帽子を見ることで、自分の帽子の色がわかる
            - どうすればこれが実現できるか？
                - 例えば1人目が2人目の帽子の色を答えれば実現できる
                    - じゃあこの方法で3人目はどうなるか？
                        - 3人目は「1人目が2人目の帽子の色を教え、2人目はその教わった色を答えた」という状態で自分の帽子の色を答えることになる
                            - ヒントがないので正解を保証できない
                        - 考察
                            - 3人目「1人目と2人目は同じことを言ってるだけじゃないか！」
                            - 1人目は2人目のためだけの情報ではなく3人目のための情報も伝える必要がある
                            - 2人目は自分が正解するために、自分の理解した帽子の色を答える必要がある
            - どうすればこれが実現できるか？take2
                - 例えば
                    - 1番目は2番目と3番目の帽子の色が同じ時に黒、異なる時に白と言う
                    - 2番目は(1番目の言った色、3番目の帽子の色)が
                        - (黒, 黒)の時には黒と答える
                        - (黒, 白)の時には白と答える
                        - (白, 黒)の時には白と答える
                        - (白, 白)の時には黒と答える
                    - これで正解できる
                    - 3番目は、2番目の発言が正しいことを知っているので(1番目の言った色、2番目の言った色)が
                        - (黒, 黒)の時には黒と答える
                        - (黒, 白)の時には白と答える
                        - (白, 黒)の時には白と答える
                        - (白, 白)の時には黒と答える
                    - これで正解できる
                - 3人の時に確実に2人を救うアルゴリズムができた！
            - では、どうすればこれを100人中99人を救うアルゴリズムにできるか？
                - 端から考えよう
                    - 4人中3人を救う方法を考える
                        - >  1人目は2人目のためだけの情報ではなく3人目のための情報も伝える必要がある
                        - 4人目の情報も伝える必要がある
                        - ということは、4人目が黒か白かで1人目の回答は変わる必要がある
                            - さっきのこれも同じ性質だった
                                - > 1番目は2番目と3番目の帽子の色が同じ時に黒、異なる時に白と言う


「最大何人救うことができるか」よりも「99人を救うことが可能か」の方が簡単な問題。そして
「99人を救うことが可能か」と「99人救うことが可能だがそれはどうやるのか」は異質な問題。
前者は可能かどうかの情報が求められているが、後者はその情報を与えられた上で、実現方法を考える問題だからだ。

