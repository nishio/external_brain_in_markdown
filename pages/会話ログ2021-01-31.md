---
title: "会話ログ2021-01-31"
---

テストの書き方について悩んで相談したところ、テストの場所を聞かれて既存のテストと同じだと答えようとしたところで「同じである必要はない」と気づいた
[https://keicho.netlify.app/#talk=hWLZQImnEQxmsWK4WDC8](https://keicho.netlify.app/#talk=hWLZQImnEQxmsWK4WDC8)

<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>あなたはこの会話で何が起きて欲しいですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>このチャットシステムに少し影響範囲の大きな修正を加えようと思ってて、多分うまく動くだろうとは思うのだけど、テストをどう書けばいいか悩んでるので相談したい
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのチャットシステムは、どんな種類のチャットシステムですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>キーワードに対して質問を繰り返して掘り下げていく
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのキーワードは、どんな種類のキーワードですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>ユーザの心の中にある重要な概念に結びついてる
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのユーザは、どんな種類のユーザですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>NGKW ユーザ
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>その概念は、どんな種類の概念ですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>まだ曖昧
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>
- >  このチャットシステムに少し影響範囲の大きな修正を加えようと思ってて、多分うまく動くだろうとは思うのだけど、テストをどう書けばいいか悩んでるので相談したい
- このチャットシステムについて、他に何かありますか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>テストの方法を考えたい。キーワード間の関係に関する質問は、それぞれのキーワードが掘り下げられた後にしなければならないが、現状ではすごく注目度スコアの高いキーワードが現れた時にそれと掘り下げてない単語との関係が聞かれてしまう
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのキーワードについて、他に何かありますか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>新しく出現した単語は注目度スコアが低い。繰り返し出現することで高くなっていく。関係の質問をする前に、掘り下げて発展させるべき
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>その単語は、どんな種類の単語ですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>キーワードと同じ
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのキーワードは、どこにありますか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>ユーザの文章中にある。
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>
- >  キーワードと同じ
- あなたはこのキーワードをどう知るのですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>それよりテストの方法について相談したい
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのテストは、どんな種類のテストですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>今どんな悪い状態になってて、修正によってそれが改善した、ということが確認できるテストで、今後色々いじった時に今回の件が悪化してないことを自動的に確認したい
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのテストについて、他に何かありますか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>「こういう入力があったときにこう反応せよ」というたぐいのものではないのでテストが書きにくい、どう書いたらいいのか
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのテストは、どこにありますか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>他のわかりやすいテストと一緒に置くつもりだったけど…それが間違いのもとか？今使ってるテストランナーを暗黙の前提とするのをやめるべきかも？
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのテストは、どのあたりにありますか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>別のフォルダを切って一問一答でないテストをそこに入れるか
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>あなたはそのテストをどう知るのですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>テストしたかったことは「掘り下げる質問より前に関係を聞く質問が出ないこと」とか「一つの質問タイプや一つのキーワードに偏らないこと」なので、過去ログからユーザの入力を流し込んで前者のような前後関係のある条件をテストしたり、後者の統計量を取ったりすればよいか
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>あなたが価値を感じているのは何ですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>テストをすることによって、影響範囲の大きな修正をするときに安心して修正することができてプロダクトの成長速度が上がる。
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのテストは、何のようですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>ローラースケートの練習をするときにつけるヘルメットとか膝当てみたいなもの。怪我を心配を減らす。
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>
- >  テストをすることによって、影響範囲の大きな修正をするときに安心して修正することができてプロダクトの成長速度が上がる。
- このテストは何が起こるとよいですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>一問一答で記述しづらいことが、上記のやり方で記述できるようになると良い
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>それにはテストに何が起こる必要がありますか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>最終的に真偽値を返すなら従来のテストと統合できるが、まだそうでないものがあるので、一旦現状のテストとは切り離して考えることが必要
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>そのテストはそれができますか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>でから、明日やろう
<img src='https://scrapbox.io/api/pages/nishio/nisbot/icon' alt='nisbot.icon' height="19.5"/>
- >  最終的に真偽値を返すなら従来のテストと統合できるが、まだそうでないものがあるので、一旦現状のテストとは切り離して考えることが必要
- このテストは、どこから来るのですか？
<img src='https://scrapbox.io/api/pages/nishio/nishio/icon' alt='nishio.icon' height="19.5"/>(できる、のtypo)