---
title: "広聴AI開発定例:ビューの試行錯誤"
---

[[広聴AI開発定例]]:ビューの試行錯誤
[https://docs.google.com/document/d/1plggszRTxEEYUcZuCLiHkPrBsMtxr3RQpctKtZe5y4M/edit?tab=t.0#heading=h.8trp8dyjifr6](https://docs.google.com/document/d/1plggszRTxEEYUcZuCLiHkPrBsMtxr3RQpctKtZe5y4M/edit?tab=t.0#heading=h.8trp8dyjifr6)
広聴AI

2025-08-20
データの側を固定してどのような情報提示ができるといいのかの試行錯誤をしている(3週間分)
- [https://policy-pr-hub.vercel.app/](https://policy-pr-hub.vercel.app/) ここでみれる
- リポジトリはここ [https://github.com/team-mirai-volunteer/policy-pr-hub/](https://github.com/team-mirai-volunteer/policy-pr-hub/)

描画領域のサイズに合わせてアスペクト比が変わる問題→固定
- ![image](https://gyazo.com/86105b223d96db8f243fbc0bdf204ea9/thumb/1000)
    - これが正しいアスペクト比、いままでは引き伸ばされていた
    - [[p広聴AI-2025-08-12]]

濃い意見表示が全体の散布図の一部を抽出したものであることがわかりにくい問題→フィルタされたデータを非表示ではなく小さい点で表示
- ![image](https://gyazo.com/27955affe4f412b410809ba27bd327e1/thumb/1000)

ラベルが多いとき、ラベルがクラスタに重なって読みにくい→引き出し線
- ![image](https://gyazo.com/e0f48877fe8880debe93a37f2806d74c/thumb/1000)
    - この表示だと20ラベルが限界、30になると上下にもおかないとなという感じになる
    - 濃いクラスタ表示はこのデータだと400件の20%で80件表示されている。引き出し線にしたとしてもまともに見れないと思う

点の分布ではなく領域の図を出すアプローチ
- 中山さんの提案していたconcave hullのかわりに、半径rの太らせをしてみた
- 衝突部分は[[ボロノイ分割]]
- ![image](https://gyazo.com/1c903d71a5e672c27e4f6c178a1a37fb/thumb/1000)
    - 本当は一つの領域が一つのポリゴンになって軽量化のはずだったが、現状はポリゴンのマージに失敗している
    - 前計算のために7秒ハングする、サーバサイドで事前に計算してキャッシュする仕組みが必要

階層表示UIが直感的でなくて掘り下げられると気づかれない問題→アウトライナー的階層表示
- [https://policy-pr-hub.vercel.app/hierarchical](https://policy-pr-hub.vercel.app/hierarchical)
- ![image](https://gyazo.com/ad5363d0527d9df0706806e22efb7c0a/thumb/1000)
- クリックすると開く
- ![image](https://gyazo.com/402492074c39bb3ba7761cf09cfb3a20/thumb/1000)
- 子要素を開く
- ![image](https://gyazo.com/76fe9135cec0a7630ff0b0d7af04bcb3/thumb/1000)
- さらに開く
- ![image](https://gyazo.com/d40535ceb16cb5b52ea89a3c60f52f41/thumb/1000)
- 個別データを表示
- ![image](https://gyazo.com/0ef0884e5c09ca2ea36cec3edfb8b688/thumb/1000)
    - 抽出元のデータへのリンクが右端についている

濃い意見グループの表示も同じスタイルでいいのでは？
- [https://policy-pr-hub.vercel.app/hierarchical-clusters](https://policy-pr-hub.vercel.app/hierarchical-clusters)
- クラスタの密度順ソート表示
- ![image](https://gyazo.com/99247cb0684e404de74e9fa499f079d1/thumb/1000)
- 濃い意見グループって要するにこのリストの上位20%だけを見てる状態

自分の意見がどこに分類されたか知ることができくしくみ
- [[意見のトレーサビリティに2方向ある]]
- いまの広聴AIは「最終的なレポート」から「元の投稿」の方向のトレーサビリティがあり、それによってレポートに書かれた内容が「誰か」の意見に基づいていることを示せる
- しかし「元の投稿」から「最終的なレポート」の方向のトレーサビリティがなく、「自分」が書いた内容がレポートのどこに入ったのかを知ることができない
- 両方向のトレーサビリティが必要
- ![image](https://gyazo.com/37f8dd0b4c1906f2ca94a7713da2b0ee/thumb/1000)
    - とりあえずIDを入れて検索できるようにした、一般のユーザ向けにはもっと手軽な仕組みが必要
        - 「あなたの提案」一覧があって、そこから個別の提案の詳細ページに飛ぶことができて、そこでは提案がどう処理されてどこに入ったかわかる、とか

広聴AIの結果を熟議の土台にする仕組み
- 現状「可視化して終わりじゃん」となってしまっている
- クラスタに対して賛成反対投票と議論ができるといいと思っている
- これは [[Your Priorities]] 的
- ![image](https://gyazo.com/d566903fbcc1b957b23371b0bb3be006/thumb/1000)
- 人々が賛成と反対の投票ができて、その理由を書くことができる(たぶん1人1件限定)
- 投稿はupvote/downvoteできる(同じ陣営からに限るのかな？)
- いまは賛成反対比率順ソートを実装してあるが、賛成反対投票自体はまだできてない、PRを作成した人は賛成だろという想定で賛成票としてカウントしている。
- ![image](https://gyazo.com/295d28ce71db67107d6a5b0a3a2fd360/thumb/1000)
- これは広聴AIに追加する感じではない？
    - Yes、分析で出てきたデータをもとに、単に見るだけではなくもっと活用したいという話
- 今の広聴AIができることを明確に語る→広聴AIが出したデータの活用方法の一つ

考えたことメモ
- 「管理者用レポート画面」が必要なのでは？
    - 今はこうなってる
        - レポート作成画面: 管理者
        - 全レポート一覧画面: 管理者
        - listedレポート一覧画面: 誰でも
        - レポート画面: 誰でも
    - 管理者用レポート画面で色々なビューを切り替えたりデフォルトの設定などを変えてから「この設定で公開」とやるイメージ
- スマホ対応を考えた時、ホバーでの情報提示がそもそもダメな気がする
    - クラスタにマウスホバーした時に構成要素の各点の詳細説明が出るのは正しくなくて、クラスターにマウスホバーした時にクラスタの詳細が出て、クリックするとそのクラスタの絞り込みビューが出るのが正しいのではないか(ただし戻るボタンが必要になる)
    - hoverのリスナーを入れることはPC版でも性能低下の原因になってそう
    - 基本的にクリックorタップした時にメニューをだす形にすべきか？
- 画面設計をまともに見れる範囲にとどめようとすると階層が動的に増えるべきな気がする
    - 2階層に限定しているから1万データとかある時に1階層で20個に分割することが必要になっているが、本質的には描画できるラベルの上限が人間の認知能力によって決まってて、それを超えないようにデータが多い時には階層が増えるのが正しいのではないか
- クラスタ数を事前に設定させる必要はないのでは？
    - extraction後に立方根で決めたらいい
    - 今は値を必須項目として事前に決めさせてしまっているけど、「おまかせ」をデフォルト値にして、カスタマイズしたい人だけが設定するようにしてもいいのでは
    - tokoroten: 自分が使っている感覚だと、デフォルト値だとクラスタの数が足りないので、おすすめでも、多い、ふつう、少ない、くらいあってもいいと思う
    - nishio: 「ざっくり」「くわしく」「とてもくわしく」がいいかも？
    - デフォルト値がいくらだったか覚えてないけど1段階目30で、2段階目900、全データ27000って感じが現状のシステムで人間が耐えられる限界な気がする
    - 分析自体はもっと多くてもできるけど階層を増やさないと人間の認知能力が大変
    - それはさておき2万件のデータをサクッと30件にまとめて、必要に応じて掘り下げることもできます、というところを広聴AIの強みとして説明すると色々できるというより理解されやすくなるのかも
