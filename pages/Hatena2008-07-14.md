---
title: "Hatena2008-07-14"
---

hatena

```
<body>
*1216009071*[Python]generatorのclone
yieldを継続みたいに使いたいという話を聞いて、普通のgeneratorだと処理を進めたら戻れないから、戻るためには「処理途中のgenerator」をcloneして取っておく必要があるよなぁ、call/ccで現在の継続をとっておくみたいに。って思ってgeneratorをコピーする方法を調べたらこんなのがあった。

http://www.fiber-space.de/generator_tools/doc/generator_tools.html

*1216010324*[RTM]Remember The Milk
自分の管理にRemember The Milkを使うことにした。リマインダメールが携帯に来るようにした。しかし、タスクごとのリマインダが「締め切り時刻に送る」と「締め切り時刻の何分前に送る」の二つしか選択肢がないように見える。わざわざTaskに「Time estimate」ってフィールドがあるのになんで「締め切り時刻から見積もり時間を引いた時刻」って選択肢がないんだ。

*1216012735*[RTM] due driven working
今までタスク管理ツールを使っていて問題だったのは、大量のタスクが積み上がってどれから着手していいかわからず結局タスクリストごとスルーしてしまうという僕の性格。

タスクに必ず締め切りを設定することで「いつやってもいいタスク」が永遠に放置されないようにする。事情が事情なら締め切りを延期してもいいけど、なんども延期されるタスクはそもそもやらない方がいいんじゃないかと検討する。毎日、明日何をするかを7件リストアップしてタスクリストに入れる。ただ、締め切りに追われているだけだと緊急度の高い物ばかりやって緊急ではないが重要なことをやらなくなってしまう。そうか、緊急じゃないけど重要なタスクにも締め切りをつけることで緊急のタスクにするのか。

*1216021386*[RTM]習慣の作り方
僕はとても習慣を作るのが苦手で、一時期「習慣をつける練習としてまずは簡単な習慣をつけよう」と言って「毎日カレンダーに丸をつける」というのを実行したが、11月頃にふと気がついたらカレンダーが7月のままになっていた。「月に1回何々する」なんてのは絶対に次の月には忘れている。

Remember The Milkを使う場合「Add Task」して「due: tod」(todayの略)「repeat: every month」って入れ、で今日の分を終わらせてからcompleteすると自動的に「8月14日」とかでリスケジューリングされる。さっき毎日携帯に通知メールが来るようにしたからこれで月に一回のタスクも忘れずに実行できるといいな。

*1216030089*gcovで使われないコードを見つけ出す
>||
$ g++ -g -ftest-coverage -fprofile-arcs tmp.cpp -I/opt/local/include
$ ./a.out
$ gcov tmp.cpp
File 'tmp.cpp'
Lines executed:57.14% of 7
tmp.cpp:creating 'tmp.cpp.gcov'
||<
できた。
>||
        -:   49:// comment
        -:   50:template<class T>
        -:   51:void foo(T& x){
        -:   52:  cout << x << endl;
        -:   53:};
        -:   54:
    #####:   55:void foo(){
        -:   56:  if(0){
        -:   57:    cout << "foo" << endl;
        -:   58:  }
    #####:   59:  cout << "foo" << endl;
        -:   60:}
        -:   61:
        1:   62:int main(){
        -:   63:  // hoge
        -:   64:  if(0){
        -:   65:    cout << "main" << endl;
        -:   66:  }
        1:   67:}
        1:   68:/*EOF*/
||<

if(0)は最適化されて消え去っているのかな。あと閉じbraceにもカバレッジがつかない。インストラクションがないからか。使われてない関数を見つけるのは関数の頭に###がついているかどうかを見れば良さそうだけど、使われていないテンプレートとかはどうやって判断すればいいかな。

>||
        -:   50:template<class T>
        1:   51:void bar(const T& x){
        1:   52:  cout << x << endl;
        -:   53:};

        1:   62:int main(){

        1:   67:  bar<int>(1);
||<

使うとこうなる。templateは中に1がないときに使われていないと判断すればいいかな。

*1216043984*[1000speakers]第6回1000人スピーカカンファレンスは長崎で開催
「1000人スピーカカンファレンスは終わった」と勘違いしていた人も多いようですが、第6回の1000人スピーカカンファレンスは8/9の土曜日13時から、ハウステンボスのすぐ近く、佐世保情報産業プラザにて開催です！
http://ja.doukaku.org/wiki/index.php/1000speakers:6

参加者申し込みは例のごとく事前告知＆チャット書き込みですが、今回初の九州開催で今までアカウントを作っていなかった人も多いかと思うので改めて解説します。詳しい流れは下のURLに書いてありますが、まず最初にすることはWikiにアカウントを作ることです。
http://ja.doukaku.org/wiki/index.php/1000speakers:howtojoinus

そしてプロフィールに書きたいことを書きたいだけ書いてください。人と人とのつながりを作るのもこのカンファレンスの重要な目的の一つなので。でもめんどくさい～って人はブログへのリンクだけとかでもOKです。

で、実際の募集開始時刻(話す人は7/26(土曜日)の24:00(日曜0時)、聞く人は8/2(土曜日)の24:00(日曜0時))から下のチャットで発言した順早い者勝ちで参加する権利を獲得します。
http://www.lingr.com/room/1000speakers (パスワードは1000speakers)
わからないことがあれば上のチャットルームかこのエントリーのコメント欄で気兼ねなく質問してください。

今回、運営をやってくださるRBC長崎・JavaComm長崎のみなさん、ほんとうにありがとうございます！

-----

-1000speakers@Kyushu開催決定
--http://d.hatena.ne.jp/from_kyushu/20080714/1216044390

*1216058020*ICFP日記2
さて、今日の４時が締め切りのICFP PCですが、そして昨日全く着手せずに放置していたICFP PCですが、いまらさ蛇行せずにすとんとゴールするように改良して悦に入っています。ゴールまでの距離を現在の速度で割った物を大まかな到着までの時間とし、角速度の微分量(正確には探査船の方向ベクトルとゴールの方向ベクトルの間の角のsinの値の微分量)にそれを掛けてやって、それが0を超えたか超えないかでハンドルの切り替えをするようにした。これをすると大きな弧をかいてすとんとゴールに落ちるので気持ちがいい。


障害物も避けたくなってきた。


しかしそれには「今の回転速度を維持したまま進むと15ステップ後にクレーターに突っ込むから、ちょっとハンドルを逆に切ってみるか」とかやらないといけないよね。まっすぐにレイレーシングしてもだめ。そして「次のターンクレーターに落ちる」って状態になってから慌てても回避不能だったりするのである程度先読みが必要。いや、これは面倒だ。面倒だからまっすぐレイトレーシングして最初にぶつかる障害物の視直径の大きさに応じた強さで見えている側と反対側にハンドルを切るようにすればいいか。それでいいや。


えーと。すべてのオブジェクトに対して、オブジェクトの位置と探査船の位置の差分ベクトルと探査船の方向ベクトルの外積をとって、それが障害物の半径(掛ける安全率1.1www)を下回るなら衝突すると判定する。でもって内積で距離が出るので、半径を割って視直径を出して、一番大きい物をえらぶっと。


さて、いくらを超えたら危険かな。1超えてると度に直して45度だからもうダメポだよな。あ、そうか、高速で移動中ほどハンドルの効きが悪いから危険か。hard turnしたときの角加速度が、まぁ設定によって異なるだろうけど、だいたい1度なので、距離-半径を速度で割ったもの(予想衝突時間)で視直径を割って1を超えるとまずいってことにしよう。時間もないしまじめにやるのが面倒だから。


おお、それだけなのにやわらかくくねくねよけていく。かわいい。


火星人に関しては、サンプルでもらった分は頭が悪いのか特に対策しなくても滅多につかまらないし、頭のいいのの対策までするととても面倒なのでスルーで。
お、サンプルのspiral.wrldで全部ゴールできるようになった。
<img src="http://gyazo.com/71e8a51cfa4eaca48ceb55b7031e1d04.png">


まぁ、そんなこんなで一応submitしておいた。submitするまでがコンテストです。1回テストして、優秀だった一部が2回戦に進んで、というシステムらしい。1回戦突破できるかなぁ。どの程度の人数がどの程度のクオリティのコードを投稿してくる物かよく知らないけど、まぁかなり手抜きなコードだし火星人無視してるし、テスト用ワールドでもたまに小石にぶつかってるし、無理だろうなぁ。まぁ、今回は最初からぐだぐだだったし。来年チームを作って本格的にやろう。Hackathonがしたいよ。
</body>
<comments>
<comment>
<username>nakamura001</username>
<body>まだ続くと聞いてとてもうれしいです。大変だとは思いますががんばって下さい。</body>
<timestamp>1216046985</timestamp>
</comment>
<comment>
<username>IWAKIRI</username>
<body>わー、開催決定おめでとう！</body>
<timestamp>1216080190</timestamp>
</comment>
<comment>
<username>tkuro</username>
<body>習慣を作る習慣を作ってみるテスト（再帰の危険性あり！）</body>
<timestamp>1216096108</timestamp>
</comment>
<comment>
<username>nishiohirokazu</username>
<body>ありがとうございます～！！</body>
<timestamp>1216096802</timestamp>
</comment>
<comment>
<username>regtan</username>
<body>初の九州開催決定おめでとうございます。<br>いつかは1000Speakersでしゃべってみたいです。</body>
<timestamp>1216101042</timestamp>
</comment>
</comments>
```


[はてなダイアリー 2008-07-14](https://nishiohirokazu.hatenadiary.org/archive/2008/07/14)