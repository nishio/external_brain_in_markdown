---
title: "jsonpatchではダメだった"
---

大きなJSONを[[o1 Pro]]に渡して、修正箇所を[[jsonpatch]]で出力させるアプローチに関して
<img src='https://scrapbox.io/api/pages/nishio/o1 Pro/icon' alt='o1 Pro.icon' height="19.5"/>
> 以下のJSON Patchは、RFC 6902形式の例示です。実際に適用するときは、/tasks/◯◯ のインデックス（行番号）を、実際の配列位置に合わせて書き換えてください。
:

```
[
  {
    // T0103 を Done に変更
    "op": "replace",
    "path": "/tasks/<<<INDEX_OF_T0103>>>/status",
    "value": "Done"
  },
  ...
```


大きなJSONのリストの特定要素が何番目のアイテムであるかをLLMはわからないようだ

まあ、これを[[Roo Code]]に渡したら最終的に正しく適用できたんだけど、その過程でこちらは`[...]`を`[...}`としてしまうミスをして、JSON全体の構文エラーを直そうと試行錯誤を始めてしまい、こちらもLLM向きではないな〜となった。

ちなみにタスクをdoneにするスクリプトをすでに用意してあるので、スクリプトのガイドをRooに読ませて"T0103 を Done に変更"って指示を渡せば多分できたと思う。o1からjsonpatchを出させようとしたのが間違いで、もっと高級な「Rooに理解できる操作のリスト」を出力させるべきであった。
- Tool定義の話だな


[[AIタスク管理]]
[[AIタスク管理2025-02-01]]
