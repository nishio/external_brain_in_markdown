---
title: "日本語URL問題"
---

iPhoneからURLが日本語のエンコードされたものであるときに、SafariもChromeもデコードして表示しちゃう
そのURLをTwitterなどに貼ると日本語部分をURLではないと判定するのでリンクが繋がらない問題

- 日本語部分をURLではないと判断する: Twitter
- 日本語部分もURLだと判断する: Facebook, Scrapbox

- URLが日本語で表示され、実際に日本語: Safari on iPhone, Chrome on iPhone
- 見た目は日本語だがコピー時にはエンコードされてる: Chrome on MacBook

サービス側ではonPasteでhttpなどから始まる文字列がペーストされた時に、ペーストされた文字列全体がURLであると判定するとかで解決するかも
対応していないサービスでユーザは何ができるだろうか...

- tinyurlする案

- 「クリップボードに入るときにエンコードされるべき」案
    - 「クリップボードに入るときにエンコードされるべき」は解決策としてありだけど、それはAppleがSafariのコードを改善しないといけないので望み薄
    - 次善の策として日本語URLを使いまくっているサービスの側がエンコードされたURLをコピーする手段を提供することが考えられる。実際Scrapboxは"Copy link"ってメニュー項目がある。これがその機能かな？と思ったらそうではなく日本語にデコードされたものがクリップボードに入って、全然役に立たない。

- 「共有→コピー」ならエンコードされたものがクリップボードに入る
    - これだ！

関連
- [パーセントエンコーディング - Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%91%E3%83%BC%E3%82%BB%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0)
